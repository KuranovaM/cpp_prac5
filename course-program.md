# Программа курса C++ + MCP

> **Инфраструктура курса**
>
> Для всех заданий используются **ваши ключи** и сервер для взаимодействия: **[https://app.hurated.com/](https://app.hurated.com/)** (далее — *Hurated*).
>
> • Базовый URL и схема MCP/JSON‑RPC будет предоставляен.
> • Доступ хранить в переменных окружения: `HURATED_BASE_URL`, `HURATED_API_KEY`.
> • Никаких внешних провайдеров (OpenAI и др.) в заданиях не используется.
>
> В шаблонах кода и заданиях ниже отмечено, где подставлять `HURATED_BASE_URL` и `HURATED_API_KEY`.
>
> • Использование ИИ допускается только при условии, что это **собственный ИИ**, развернутый на *Hurated* и доступный через протокол **MCP** данного сервера; сторонние провайдеры недопустимы.

## Урок 1: Введение в Git и настройку рабочего окружения

* Зачем использовать Git: контроль версий и совместная работа
* Основные команды: `git init`, `git add`, `git commit`, `git status`, `git push`, `git pull`
* Создание репозитория для курса
* Основы работы с GitHub: создание и клонирование репозиториев
* Основы работы с `.gitignore`

## Урок 2: Основы объектно-ориентированного программирования в C++

* Основные концепции ООП: классы, объекты, наследование, инкапсуляция, полиморфизм
* Конструкторы и деструкторы
* Наследование и виртуальные функции&#x20;
* **Домашнее задание:**   [https://contest.cs.msu.ru/cgi-bin/new-client?contest\_id=612 ](https://contest.cs.msu.ru/cgi-bin/new-client?contest_id=612 )

## Урок 3: Современные возможности C++17 и работа с пространствами имен

* `if constexpr`, `auto`, упрощение лямбда-выражений

* Пространства имен и заголовочные файлы

* Использование `#pragma once`
  **Практика:** написать модуль с функцией, подключаемый через header

* **Домашнее задание:**  [https://contest.cs.msu.ru/cgi-bin/new-client?contest\_id=612 ](https://contest.cs.msu.ru/cgi-bin/new-client?contest_id=612 )

## Урок 4: Основы стандартной библиотеки + JSON

* Контейнеры: `std::vector`, `std::map`, `std::set`
* Стандартные алгоритмы: `std::sort`, `std::find`
* Парсинг/генерация JSON (nlohmann/json)&#x20;
* **Домашнее задание:**  [https://contest.cs.msu.ru/cgi-bin/new-client?contest\_id=612 ](https://contest.cs.msu.ru/cgi-bin/new-client?contest_id=612 )

---

## Урок 5: Введение в Model Context Protocol и архитектуру на C++

* Что такое MCP: открытый протокол для стандартизации взаимодействия LLM с внешними источниками
* Проблемы, которые решает MCP: фрагментация интеграций
* C++ в контексте MCP: производительность, контроль памяти, интеграция с системными ресурсами
* Обзор библиотек: nlohmann/json, HTTP клиенты (libcurl, cpp-httplib), WebSocket (websocketpp)
  **Практика:** настройка среды разработки, установка библиотек через vcpkg/conan, написание простого JSON‑парсера для MCP‑сообщений; подготовка `.env` с `HURATED_BASE_URL` и `HURATED_API_KEY`, проверка соединения с *Hurated*.

## Урок 6: JSON-RPC протокол и сетевое программирование в C++

* JSON-RPC: структура сообщений, запросы/ответы, обработка ошибок
* Сетевые транспорты: TCP сокеты, WebSocket, HTTP для MCP
* Асинхронное программирование: `std::future`, `std::async`, callbacks
* Exception safety и error codes в сетевом программировании
  **Практика:** реализация JSON‑RPC парсера и HTTP/WebSocket‑клиента; обработка асинхронных запросов к *Hurated* (`HURATED_BASE_URL`).

  **Практическое задание 1:** Реализация JSON‑RPC клиента на C++ (базовый MCP‑клиент) для *Hurated*

## Урок 7: Архитектура MCP сервера на C++

* Паттерны проектирования: Command, Observer, Strategy
* Многопоточность: thread pools, mutex'ы, атомарные операции
* Управление ресурсами: RAII, smart pointers
* Плагинная архитектура MCP сервера
  **Практика:** проектирование базовых классов MCP‑сервера, регистрация обработчиков, thread‑safe запросы. Для интеграции с *Hurated* — реализация совместимых методов/эндпоинтов согласно выданной спецификации.

  **Практическое задание 3:** Создание серверного приложения MCP на C++

## Урок 8: Работа с файловой системой и системными ресурсами

* std::filesystem в C++17: работа с файлами и директориями
* File watchers: inotify (Linux), ReadDirectoryChangesW (Windows)
* Безопасность: sandboxing, валидация путей
* Memory-mapped files для оптимизации
  **Практика:** разработка MCP сервера для работы с файловой системой, безопасный файловый API, оптимизация работы с большими файлами

## Урок 9: Интеграция с базами данных и внешними API

* SQLite, PostgreSQL: подключение, connection pooling
* REST API: libcurl, cpp-httplib
* Кэширование: in-memory и LRU cache
* Альтернативы JSON: Protobuf, MessagePack
  **Практика:** MCP сервер с подключением к SQLite и внешнему REST API, реализация thread-safe кэша

## Урок 10: MCP клиент на C++ и интеграция с LLM

* Архитектура клиента: множественные MCP‑сервера, connection pooling
* Интеграция с LLM/агентом через ваш сервер (*Hurated*): использование `HURATED_BASE_URL` и `HURATED_API_KEY`
* Агрегация данных от разных MCP‑серверов
* Обработка и передача контекста
  **Практика:** создание MCP‑клиента с поддержкой multiple connections и интеграцией в чатбота, который общается через *Hurated*.

  **Практическое задание 2:** Настройка персонального помощника для взаимодействия с агентом ИИ через MCP (*Hurated*)

## Урок 11: **Практика:** MCP‑клиент (CLI) для взаимодействия с инструментами ИИ

* MCP поверх JSON-RPC: `initialize`, `tools/list`, `tools/call`
* Транспорты: stdio и HTTP+SSE
* Дизайн простого CLI: команды `mcp tools`, `mcp call`
  **Практика (обязательная):**

  1. Реализовать рукопожатие `initialize` и вывод `serverInfo` c подключением к *Hurated*.
  2. Получить список инструментов `tools/list`.
  3. Вызвать инструмент `explain_code` для файла `.cpp` через *Hurated*.

## Урок 12: Умные указатели и управление памятью

* Разница между сырыми и умными указателями
* `std::unique_ptr`, `std::shared_ptr`, `std::weak_ptr`
* Типичные ошибки и лучшие практики

## Урок 13: Многопоточность и параллелизм

* Синхронизация: `std::mutex`, `std::lock_guard`
* Таймауты, отмена задач, безопасное завершение потоков
* Потоки и SSE: чтение стриминга в отдельном потоке
  **Практика:** CLI, который вызывает инструмент `compile_c` на MCP-сервере и отображает поток логов/прогресса

## Урок 14: Итоговый проект и обзор

* Требования к проекту:

  * CLI-приложение на C++, подключающееся к MCP-серверу
  * Использует минимум два инструмента (`explain_code`, `compile_c`, `generate_tests` и др.)
  * Поддерживает флаги `--json`, `--timeout`, читабельный вывод и обработку ошибок JSON-RPC
  * (\*) поддержка обработки видео потока, тайминг, разбиение на сцены и т.п.
* Демонстрация, код-ревью, обсуждение архитектуры

  **Практическое задание 4 (со звездочкой):** Обработка видеопотока с использованием MCP (через *Hurated*)

---

## Список практических заданий

1. **Реализация JSON-RPC клиента на C++ (базовый MCP-клиент)** – Урок 6
2. **Создание серверного приложения MCP на C++** – Урок 7
3. **Настройка персонального помощника для взаимодействия с агентом ИИ через MCP** – Урок 10
4. **Задача со звездочкой: Обработка видеопотока с использованием MCP (через Hurated)** – Урок 14